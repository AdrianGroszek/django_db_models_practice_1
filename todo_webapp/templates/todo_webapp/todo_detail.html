{% extends 'base.html' %}
{% load static %}

{% block page_title %}
  Task detail
{% endblock %}

{% block css_files %}
  <link rel="stylesheet" href="{% static 'todo_webapp/todo_detail.css' %}" >
{% endblock %}

{% block content %}
  <div class="container">
        <a href="{% url 'todos-list-page' %}" class="back-button">â† PowrÃ³t do listy</a>

        <div class="todo-card">
            <div class="todo-header">
                <h1 class="todo-title">{{ task.title }}</h1>
                {% if task.is_completed %}
                  <div class="status-badge status-completed">âœ“ ZakoÅ„czone</div>
                {% else %}
                  <div class="status-badge status-pending">ğŸ“‹ OczekujÄ…ce</div>
                {% endif %}
            </div>

            <div class="todo-meta">
                <div class="meta-item">
                    <div class="meta-label">ğŸ‘¤ Autor</div>
                    <div class="meta-value">{{ task.author }}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">ğŸ”¥ Priorytet</div>
                    <div class="meta-value">
                        <span class="priority-badge {{ task.get_priority_class }}">{{ task.get_priority_label }} ({{ task.priority }}/5)</span>
                    </div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">ğŸ“… Data utworzenia</div>
                    <div class="meta-value">{{ task.created_at }}</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">â° Termin wykonania</div>
                    <div class="meta-value">{{ task.due_date }}</div>
                </div>
            </div>

            <div class="categories-container">
                <div class="section-title">ğŸ“ Kategorie</div>
                <div class="categories-list">
                    {% for cat in task.category.all %}
                      <span class="category-tag">ğŸ“ {{ cat.category }}</span>
                    {% endfor %} 
                </div>
            </div>

            <div class="description-section">
                <div class="section-title">ğŸ“ Opis zadania</div>
                <div class="description-text">
                    {{ task.description }}
                </div>
            </div>

            <div class="actions-section">
                <a href="" class="btn btn-edit">âœï¸ Edytuj</a>
                <button class="btn btn-complete">âœ… Oznacz jako ukoÅ„czone</button>
                <a href="" class="btn btn-delete">ğŸ—‘ï¸ UsuÅ„</a>
            </div>
        </div>
    </div>
{% endblock %}